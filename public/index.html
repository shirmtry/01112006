<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2k6 mãi đỉnh</title>
    <link rel="stylesheet" href="ok1.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:700,600,400&display=swap" rel="stylesheet">
    <style>
        .selected { background: #ffd700; }
        .tx-quick-btn { margin: 2px; }
        .dice3d-3d { width: 40px; height: 40px; perspective: 400px; display: inline-block; }
        .face { position: absolute; }
        .result-ball, .tx-result-ball { display:inline-block;margin:1px;padding:2px 7px;border-radius:50%;font-weight:bold; }
        .tai-ball, .tx-result-ball.tai { background:#ffd; color:#c00;}
        .xiu-ball, .tx-result-ball.xiu { background:#ddf; color:#04a;}
        body { font-family: 'Poppins', Arial,sans-serif; background: #f6f7fb; color: #222; }
        #mainContent { max-width: 700px; margin: 0 auto; background: #fff; padding: 30px 20px 32px 20px; border-radius: 12px; box-shadow: 0 2px 10px #0001; }
        h2, h3, h4 { margin-top: 0; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 6px 8px; }
        th { background: #f7f7f7; }
        #loginForm, #registerForm { max-width: 350px; margin: 50px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 10px #0002; padding: 24px; }
        input { padding: 7px; margin: 5px 0 12px 0; border: 1px solid #ccc; border-radius: 4px; width: 90%; }
        button { padding: 7px 18px; border-radius: 6px; border: none; background: #3b82f6; color: #fff; font-weight: 600; margin: 3px 2px; cursor: pointer; }
        button:disabled { background: #bbb; cursor: not-allowed; }
        .tx-quick-btn.selected { background: #22d3ee; color: #fff; border:2px solid #155e75; }
        #betStatus { font-weight: bold; margin: 10px 0 8px 0; color: #0a7;}
        .captcha-inputcode input { width: 60px; margin-right: 10px; }
        .captcha-img { display: inline-block; min-width: 60px; min-height: 28px; font-weight: bold; font-size: 1.1rem; background: #eee; text-align: center; vertical-align: middle; line-height: 28px; user-select: none; cursor: pointer; border-radius: 5px; padding: 0 8px; }
        .login-form, .register-form { width: 100%; }
        .main-content-flex { display: flex; flex-direction: column; }
        .game-area { margin-bottom: 20px; }
        .tx-board { display: flex; align-items: stretch; justify-content: center; }
        .tx-col { width: 90px; align-items: center; display: flex; flex-direction: column; justify-content: center; }
        .tx-label { font-size: 1.1rem; font-weight: 600; }
        .tx-total { font-size: 1.1rem; margin-top: 4px; }
        .tx-center-col { flex: 1; display: flex; flex-direction: column; align-items: center; }
        .tx-round { font-size: 1.2rem; font-weight: bold; margin-bottom: 7px; }
        .tx-clock-wrap { margin-bottom: 12px; }
        .tx-bet-row { display: none; }
        .tx-quick-bets { margin: 10px 0 7px 0; }
        .tx-result-bar { margin: 7px 0 5px 0; }
        .tx-result-label { font-weight: 600; margin-right: 7px; }
        .tx-result-list { display: inline-block; vertical-align: middle;}
        .tx-copy-btn { margin-left: 12px; padding: 2px 12px; background: #ffd700; color: #222; border-radius: 6px; font-weight: bold; border: 1px solid #daa520;}
    </style>
</head>
<body>
    <div class="auth-wrapper" id="authWrapper">
        <div class="login-form" id="loginForm">
            <h2>Đăng nhập</h2>
            <div class="form-group">
                <label for="username">Tên đăng nhập:</label>
                <input type="text" id="username" placeholder="Nhập tên đăng nhập" autocomplete="username">
            </div>
            <div class="form-group">
                <label for="password">Mật khẩu:</label>
                <input type="password" id="password" placeholder="Nhập mật khẩu" autocomplete="current-password">
            </div>
            <div class="form-group captcha-row">
                <label class="captcha-label">Mã xác nhận:</label>
                <div class="captcha-inputcode">
                    <input type="text" id="captcha" placeholder="Nhập mã">
                    <span class="captcha-img" id="captchaDisplay" title="Bấm để tạo mã mới" onclick="generateCaptcha()"></span>
                </div>
            </div>
            <div class="action-row">
                <button type="button" class="login-btn" id="loginBtn">Đăng nhập</button>
                <button type="button" class="register-btn" id="showRegisterLink">Đăng ký</button>
            </div>
        </div>
        <div class="register-form" id="registerForm" style="display:none;">
            <h2>Đăng ký</h2>
            <div class="form-group">
                <label for="reg_username">Tên đăng nhập:</label>
                <input type="text" id="reg_username" placeholder="Tên đăng nhập mới" autocomplete="username">
            </div>
            <div class="form-group">
                <label for="reg_password">Mật khẩu:</label>
                <input type="password" id="reg_password" placeholder="Mật khẩu" autocomplete="new-password">
            </div>
            <div class="form-group">
                <label for="reg_password2">Nhập lại mật khẩu:</label>
                <input type="password" id="reg_password2" placeholder="Nhập lại mật khẩu" autocomplete="new-password">
            </div>
            <div class="form-group captcha-row">
                <label class="captcha-label">Mã xác nhận:</label>
                <div class="captcha-inputcode">
                    <input type="text" id="reg_captcha" placeholder="Nhập mã">
                    <span class="captcha-img" id="reg_captchaDisplay" title="Bấm để tạo mã mới" onclick="generateCaptcha('reg_')"></span>
                </div>
            </div>
            <div class="action-row">
                <button type="button" class="register-btn" id="registerBtn">Đăng ký</button>
                <button type="button" class="login-btn" id="showLoginLink">Đăng nhập</button>
            </div>
        </div>
    </div>
    <div id="mainContent" style="display:none;">
        <div class="main-content-flex">
            <div class="game-area">
                <div class="tx-game-root">
                    <div class="tx-board">
                        <div class="tx-col tx-tai" id="tx-tai-select">
                            <div class="tx-label">TÀI</div>
                            <div class="tx-total" id="tx-tai-total">0</div>
                        </div>
                        <div class="tx-center-col">
                            <div class="tx-round">#<span id="tx-round-id">1</span></div>
                            <div class="tx-clock-wrap">
                                <div class="tx-clock-timer-block">
                                    <span class="tx-timer-icon">⏰</span>
                                    <span id="tx-timer" class="tx-timer-digit">30</span><span class="tx-timer-unit">s</span>
                                </div>
                                <div class="tx-dice-3d-wrap" id="dice-3d-wrap">
                                    <div class="tx-dice-3d" id="dice1"></div>
                                    <div class="tx-dice-3d" id="dice2"></div>
                                    <div class="tx-dice-3d" id="dice3"></div>
                                </div>
                            </div>
                            <div class="tx-quick-bets">
                                <button class="tx-quick-btn" data-amount="1000">1K</button>
                                <button class="tx-quick-btn" data-amount="10000">10K</button>
                                <button class="tx-quick-btn" data-amount="100000">100K</button>
                                <button class="tx-quick-btn" data-amount="500000">500K</button>
                                <button class="tx-quick-btn" data-amount="1000000">1M</button>
                                <button class="tx-quick-btn" data-amount="5000000">5M</button>
                                <button class="tx-quick-btn" data-amount="10000000">10M</button>
                                <button class="tx-quick-btn" data-amount="50000000">50M</button>
                            </div>
                            <button id="tx-bet-btn" class="tx-btn tx-btn-bet">ĐẶT CƯỢC</button>
                            <div class="tx-result-bar">
                                <span class="tx-result-label">KẾT QUẢ</span>
                                <div id="tx-result-list" class="tx-result-list"></div>
                                <button id="tx-copy-btn" class="tx-copy-btn">COPY</button>
                            </div>
                        </div>
                        <div class="tx-col tx-xiu" id="tx-xiu-select">
                            <div class="tx-label">XỈU</div>
                            <div class="tx-total" id="tx-xiu-total">0</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="main-below-game">
                <div class="tx-header">
                    <div class="tx-title">TÀI XỈU <span class="tx-md5">MD5</span></div>
                </div>
                <div style="text-align:center; margin-bottom:10px;">
                    <h2 style="margin-bottom: 2px;">Chào mừng, <span id="userNameDisplay"></span>!</h2>
                    <p style="margin:0 0 6px 0;">Số dư: <span id="userBalance">0</span> VNĐ</p>
                    <button id="logoutBtn">Đăng xuất</button>
                </div>
                <div class="bank-section">
                    <div class="bank-action-btns">
                        <button id="openDepositPageBtn" disabled>Nạp tiền</button>
                        <button id="openWithdrawPageBtn" disabled>Rút tiền</button>
                    </div>
                </div>
                <div class="user-history-section">
                    <h3>Lịch sử Nạp/Rút của bạn</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Thời gian</th>
                                <th>Loại</th>
                                <th>Số tiền</th>
                                <th>Mã giao dịch</th>
                            </tr>
                        </thead>
                        <tbody id="userHistoryTableBody">
                            <tr><td colspan="4">Chưa có dữ liệu</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="user-stats-section">
                    <h3>Lịch sử cược của bạn</h3>
                    <table id="userStatsTable">
                        <thead>
                            <tr>
                                <th>Thời gian</th>
                                <th>Cược</th>
                                <th>Kết quả</th>
                                <th>Tổng</th>
                                <th>Thắng/Thua</th>
                            </tr>
                        </thead>
                        <tbody><tr><td colspan="5">Chưa có dữ liệu</td></tr></tbody>
                    </table>
                </div>
                <div id="adminPanel" style="display:none;">
                    <h3>Bảng điều khiển Admin</h3>
                    <h4>Yêu cầu nạp/rút chờ xác nhận:</h4>
                    <table id="adminRequestsTable">
                        <thead>
                            <tr>
                                <th>Thời gian</th><th>User</th><th>Loại</th><th>Số tiền</th><th>Mã</th><th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <h4>Lịch sử cược toàn hệ thống</h4>
                    <table id="adminBetsTable">
                        <thead>
                            <tr>
                                <th>User</th><th>Thời gian</th><th>Phiên</th><th>Cược</th><th>Số tiền</th><th>Tổng</th><th>KQ</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="depositPage" class="bank-page" style="display:none;">
        <form class="bank-form-ct" autocomplete="off" onsubmit="return false;">
            <button type="button" class="bank-exit-btn" id="depositPageCloseBtn">&times;</button>
            <h3>Nạp tiền vào game</h3>
            <div class="deposit-admin-info">
                <div><b>Số tài khoản admin:</b> <span id="adminBankNumber">123456789</span></div>
                <div><b>Chủ tài khoản:</b> <span id="adminBankHolder">Nguyễn Văn Admin</span></div>
                <div><b>Ngân hàng:</b> <span id="adminBankName">MB Bank</span></div>
                <div style="color:#fff;font-size:14px;margin-top:7px;">* Chuyển đúng số tiền và ghi rõ mã giao dịch bên dưới vào nội dung chuyển khoản!</div>
            </div>
            <label for="depositPageAmount">Số tiền nạp:</label>
            <input type="number" id="depositPageAmount" autocomplete="off" placeholder="Nhập số tiền" min="1000" step="1000">
            <div class="bank-form-btnrow deposit-code-row">
                <button type="button" id="depositPageGenCodeBtn" disabled>Tạo mã chuyển khoản</button>
                <span class="bank-code-txt" id="depositPageCodeTxt"></span>
            </div>
            <div class="bank-form-btnrow">
                <button type="button" id="depositPageSubmitBtn" disabled>Xác nhận đã chuyển khoản</button>
            </div>
        </form>
    </div>
    <div id="withdrawPage" class="bank-page" style="display:none;">
        <form class="bank-form-ct" autocomplete="off" onsubmit="return false;">
            <button type="button" class="bank-exit-btn" id="withdrawPageCloseBtn">&times;</button>
            <h3>Rút tiền khỏi game</h3>
            <label for="withdrawPageBank">Ngân hàng:</label>
            <input type="text" id="withdrawPageBank" autocomplete="off" placeholder="Tên ngân hàng">
            <label for="withdrawPageAccount">Số tài khoản:</label>
            <input type="text" id="withdrawPageAccount" autocomplete="off" placeholder="Số tài khoản">
            <label for="withdrawPageHolder">Chủ tài khoản:</label>
            <input type="text" id="withdrawPageHolder" autocomplete="off" placeholder="Chủ tài khoản">
            <label for="withdrawPageAmount">Số tiền rút:</label>
            <input type="number" id="withdrawPageAmount" autocomplete="off" placeholder="Số tiền muốn rút" min="1000" step="1000">
            <div class="bank-form-btnrow">
                <button type="button" id="withdrawPageSubmitBtn" disabled>Gửi yêu cầu rút</button>
            </div>
        </form>
    </div>
    <div id="resultHistoryPage" style="display:none;position:fixed;z-index:1001;left:0;top:0;width:100vw;height:100vh;align-items:center;justify-content:center;">
        <div id="resultHistoryPageContent" style="position:relative"></div>
        <button class="result-history-close-btn" id="resultHistoryPageCloseBtn" style="position:absolute;top:18px;right:28px;font-size:2rem;background:none;border:none;color:#FFD700;cursor:pointer;">×</button>
    </div>
    <button id="openResultHistoryBtn" class="tx-copy-btn" style="position:fixed;bottom:30px;right:30px;z-index:1002;">KẾT QUẢ</button>
    <script src="main.js"></script>
</body>
</html>
